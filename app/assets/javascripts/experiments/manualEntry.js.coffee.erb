$ ->
  editableGrid = {}
  metadata = []
  fields = window.fields
  data = []
  row = {}
  
  editableGrid = new EditableGrid "Session_Data"
  
  metadata.push {name: field.name, label: field.name, datatype: "string", editable: true} for field in fields
    
  row[field] = "replace me" for field in fields
    
  data.push { id: 1, values: row }

  editableGrid.load { metadata: metadata, data: data }
  editableGrid.renderGrid "manual_upload_table", "testgrid table"
    
  ($ ".add_row_button").click ->
    editableGrid.addRow(editableGrid.getRowCount()+1,{})
