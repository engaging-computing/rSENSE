$ ->
  editableGrid = {}
  metadata = []
  fields = window.fields
  data = []
  row = {}
  
  eg = new EditableGrid "Session_Data"
  
  metadata.push {name: field.name, label: field.name, datatype: "string", editable: true} for field in fields
    
  row[field] = "replace me" for field in fields
    
  data.push { id: 1, values: row }

  try
    eg.load { metadata: metadata, data: data }
    eg.renderGrid "manual_upload_table", "testgrid table"
  catch error
    console.log error
    
  ($ ".add_row_button").click ->
    eg.addRow(eg.getRowCount()+1,{})
    console.log window.fields